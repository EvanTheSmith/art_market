<p>This page shows all penpals registered on our Web site. Please use the filter to narrow down your 
search by interest and/or letter frequency (which is how often a penpal wants to receive letters from you).</p>

<%= form_tag("/penpals", method: "get") do %>
  <%= select_tag "interest", options_from_collection_for_select(Interest.all, "id", "name", params[:interest]), include_blank: "Interest" %>
  <%= select_tag "frequency", options_for_select(['Weekly', 'Monthly', 'Yearly'], params[:frequency]), include_blank: "Frequency" %>
  <%= submit_tag "Filter" %>
<% end %>

<% unless @penpals.empty? %>
  <ul>
  <% @penpals.each do |penpal| %>
  <li>Name: <%= link_to penpal.name, penpal %> </li>
  <% end %>
  </ul>
<% else %>
  <% if Penpal.all.empty? %>
  <p>There are no registered penpals.</p>
  <% else %>
  <p>No registered penpals meet the provided search criteria.</p>
  <% end %>
<% end %>

<% if check_for_params %>
<%= form_for "/penpals", method: "get" do |f| %>
  <%= f.submit "Reset Filter" %>
<% end %><% end %>
<br />

<%= link_to "Register New Penpal", new_penpal_url, class: "button" %>